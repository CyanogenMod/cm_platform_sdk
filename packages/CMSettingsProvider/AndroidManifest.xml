<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="org.cyanogenmod.cmsettings"
          coreApp="true"
          android:sharedUserId="android.uid.system">
    <!-- It is necessary to be a system app in order to update table versions in SystemProperties for
         CMSettings to know whether or not the client side cache is up to date. It is also necessary
         to run in the system process in order to start the content provider prior to running migration
         for CM settings on user starting -->

    <uses-permission android:name="android.permission.MANAGE_USERS" />

    <application android:icon="@drawable/icon"
                 android:label="@string/app_name"
                 android:process="system"
                 android:killAfterRestore="false"
                 android:allowClearUserData="false"
                 android:enabled="true">

        <provider android:name="CMSettingsProvider" android:authorities="cmsettings"
                  android:multiprocess="false"
                  android:exported="true"
                  android:writePermission="cyanogenmod.permission.WRITE_SETTINGS"
                  android:singleUser="true"
                  android:initOrder="100" />

    </application>
</manifest>
